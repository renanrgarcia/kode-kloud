# AKS

- Pre-requisites:
  - Azure account.
  - Azure subscription.
  - Azure basics.
- Create the AKS cluster:
  - Go to the Azure Portal.
  - Create a resource -> Kubernetes Services.
  - Basics:
    - Subscription: `example-subscription`.
    - Resource group: `votingapp-resourcegroup`.
    - Kubernetes cluster name: `example-voting-app`.
    - Region: `East US`.
    - Kubernetes version: `1.18.14`.
    - Node count: `1`.
    - Node size: `Standard_B2s`.
    - Authentication: `Service principal`.
    - Service principal: `default`.
    - The rest: default.
    - Create.
- Open the Cloud Shell.
  - Create storage.
  - `az aks get-credentials --resource-group votingapp-resourcegroup --name example-voting-app`.
  - `kubectl get nodes`.
- Clone the example-voting-app repo.
  - `git clone <repo>`.
- Change the type of service from `NodePort` to `LoadBalancer` in `voting-app-service.yaml` and `result-app-service.yaml`.
  - This is beacause the AKS has a built-in load balancer.
- Apply the artifacts:
  - `kubectl apply -f .`
- Check the environment:
  - `kubectl get all`.
- Test the application by opening the external IP of the load balancer in the browser.
