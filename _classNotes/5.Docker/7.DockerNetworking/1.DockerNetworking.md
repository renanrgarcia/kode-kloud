# Docker Networking

- Docker networking is a way to connect multiple containers together, to the host system, and to the outside world.
- Default networks:
  - `bridge`: Default network created when Docker is installed.
    - `docker run --network=bridge nginx`. But it's not necessary to specify the network because it's the default network.
    - Containers can communicate with each other. Uses `docker0` bridge.
    - The containers gain an IP address on the range `172.17.*.*`.
    - To expose a port to the host system, we need to use `-p` flag. Ex: `docker run -p 8080:80 nginx`.
  - `host`: Removes network isolation between the container and the host system.
    - `docker run --network=host nginx`
    - In this case, the container uses the host system's network stack.
    - When mapping ports, we don't need to specify the host port. Ex: `docker run -p 8080 nginx`.
      - So we cannot run two containers with the same port.
  - `none`: Removes network access from the container.
    - `docker run --network=none nginx`
- User-defined networks:
  - We can create our own networks.
  - `docker network create --driver bridge --subnet 182.18.0.0/16 custom-network`: Creates a network with a custom subnet.
  - `docker network ls`: Lists all networks.
  - `docker network inspect custom-network`: Inspects a network.
  - `docker run --network=my-network nginx`
  - Containers can communicate with each other.
  - We can also use `--link` flag to link containers. Ex: `docker run --link container1:alias1 --link container2:alias2 nginx`
- Embedded DNS server:
  - Docker has an embedded DNS server that provides DNS resolution for containers connected to user-defined networks.
  - Containers can resolve each other by container name.
  - Ex: `docker run --network=my-network --name container1 nginx` > `docker run --network=my-network --name container2 nginx` > `docker exec -it container2 ping container1`
